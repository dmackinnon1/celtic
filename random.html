
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1"> 
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
<title>Celtic Knots</title>
</head>
<style>
.framed {
	text-align: center;	
}
.centered {
	text-align: center;
}
</style>
<script src="js/bldrs.js"></script>
<script src="js/celtic.js"></script>
<script>
$(document).ready(function(){
	
	$("#xs-size").on("click", function(event){
		$(".gs-btn").removeClass('btn-primary');
		$(".gs-btn").addClass('btn-secondary');	
		$("#xs-size").addClass('btn-primary');
		$("#xs-size").removeClass('btn-secondary');
		size = xsmall;
		reset();
	});	
	
	$("#sm-size").on("click", function(event){
		$(".gs-btn").removeClass('btn-primary');
		$(".gs-btn").addClass('btn-secondary');	
		$("#sm-size").addClass('btn-primary');
		$("#sm-size").removeClass('btn-secondary');
		size = small;
		reset();
	});	
	
	$("#md-size").on("click", function(event){
		$(".gs-btn").removeClass('btn-primary');
		$(".gs-btn").addClass('btn-secondary');		
		$("#md-size").addClass('btn-primary');
		$("#md-size").removeClass('btn-secondary');
		size = medium;
		reset();
	});	
	$("#lg-size").on("click", function(event){
		$(".gs-btn").removeClass('btn-primary');
		$(".gs-btn").addClass('btn-secondary');	
		$("#lg-size").addClass('btn-primary');
		$("#lg-size").removeClass('btn-secondary');
		size = large;
		reset();
	});	
	
	$("#randomize").on("click", function(event){
		randomize();
	});		

	$("#reset").on("click", function(event){
		reset();
	});		

	$("#download").on("click", function(event){
		let tempElement = document.createElement('a');
  		tempElement.setAttribute('href', 'data:text/plain;charset=utf-8,' 
  			+ encodeURIComponent(""+ knot.init().junctions().nodes().lines().build()+""));
  		tempElement.setAttribute('download', 'image.svg');
  		tempElement.style.display = 'none';
  		document.body.appendChild(tempElement);
		tempElement.click();
		document.body.removeChild(tempElement);
	});
	reset();
});

let width = 200;
let xsmall = [4, 3, width/3];
let small = [7, 5, width/5];
let medium = [15, 10, width/11];
let large = [20, 15, width/16];
let size = small;
let grid = null;
let knot = null;

function reset(){
	grid = new Grid(size[0],size[1]);
	grid.initialize().borders();
	let fg = "white";
	let bg = "black";
	if (knot != null){
		fg = knot.foregroundColor;
		bg = knot.backgroundColor
	} 
	knot = new KnotSVG(grid, size[2]).chunkyStyle();
	knot.setForeground(fg);
	knot.setBackground(bg);
	redraw();
};

function redraw(){
	document.getElementById('knot').innerHTML =  knot.init().nodes().junctions().lines().build();	
}
function foreground(c='white'){
	knot.setForeground(c);
	redraw();
}
function background(c='black'){
	knot.setBackground(c);
	redraw();
} 
function randomize(){
	grid.randomLines(20);
	redraw();
}
</script>
<body>

<nav class="navbar navbar-light bg-light" style="margin-bottom:0px">
			<a class="navbar-brand" href="..">
				<img src="imgs/github_badge1.png" width="40" height="40" >
				dmackinnon1.github.io</a>		
</nav>
<br>

<div class="container-fluid">
	<div class='row'>
	<div class='col-sm-1 col-lg-3'></div>
	<div class='col-sm-10 col-lg-6 main-column'>
		<div class="page-header">			
			<h1>Celtic Knots
			<div class="btn-group btn-group-md " role="group">
					<a class="btn nav-button-default btn-default" href=".">Editor</a>
					<a class="btn nav-button-primary btn-primary" href="./random.html">Random</a>
			</div>
		</div> 	
			Generate randomized celtic knot patterns using the
			options below.
		<hr>	
		<div class='centered'>
		<div class="btn-group btn-group-md" role="group">	
			<button id="xs-size" class="gs-btn btn btn-secondary">xs</button>	
			<button id="sm-size" class="gs-btn btn btn-primary">sm</button>
			<button id="md-size" class="gs-btn btn btn-secondary">md</button>
			<button id="lg-size" class="gs-btn btn btn-secondary">lg</button>
		</div>
		</div>
		<br>
		<div id='knot' class='framed'></div>
		<br>
		<div class='centered'>
		<div class="btn-group btn-group-md" role="group">	
			<button id="randomize" class="btn btn-primary">Random</button>
			<button id="reset" class="btn btn-primary">Reset</button>
		</div>
		<br>
		<br>
		<div class="btn-group">
		<div class="dropdown">
  			<button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    		foreground
  			</button>
  			<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
    			<a class="dropdown-item" onclick="foreground('black')" href="#">black</a>
    			<a class="dropdown-item" onclick="foreground('white')"href="#">white</a>
    			<a class="dropdown-item" onclick="foreground('darkgreen')"href="#">darkgreen</a>
    			<a class="dropdown-item" onclick="foreground('lightgreen')"href="#">lightgreen</a>
    			<a class="dropdown-item" onclick="foreground('steelblue')"href="#">steelblue</a>
    			<a class="dropdown-item" onclick="foreground('darkblue')"href="#">darkblue</a>
    			<a class="dropdown-item" onclick="foreground('lightblue')"href="#">lightblue</a>
    			<a class="dropdown-item" onclick="foreground('red')"href="#">red</a>
    			<a class="dropdown-item" onclick="foreground('pink')"href="#">pink</a>	
    			<a class="dropdown-item" onclick="foreground('orange')"href="#">orange</a>
    			<a class="dropdown-item" onclick="foreground('purple')"href="#">purple</a>
    			<a class="dropdown-item" onclick="foreground('orangered')"href="#">orangered</a>
  			</div>
  		</div>
  		<div class="dropdown">
  			 <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    		background
  			</button>
  			<div class="dropdown-menu" aria-labelledby="dropdownMenuButton2">
  				<a class="dropdown-item" onclick="background('black')" href="#">black</a>
    			<a class="dropdown-item" onclick="background('white')"href="#">white</a>
    			<a class="dropdown-item" onclick="background('darkgreen')"href="#">darkgreen</a>
    			<a class="dropdown-item" onclick="background('lightgreen')"href="#">lightgreen</a>
    			<a class="dropdown-item" onclick="background('steelblue')"href="#">steelblue</a>
    			<a class="dropdown-item" onclick="background('darkblue')"href="#">darkblue</a>
    			<a class="dropdown-item" onclick="background('lightblue')"href="#">lightblue</a>
    			<a class="dropdown-item" onclick="background('red')"href="#">red</a>
    			<a class="dropdown-item" onclick="background('pink')"href="#">pink</a>	
    			<a class="dropdown-item" onclick="background('orange')"href="#">orange</a>
    			<a class="dropdown-item" onclick="background('purple')"href="#">purple</a>
    			<a class="dropdown-item" onclick="background('orangered')"href="#">orangered</a>
  			</div>
		</div>	
		</div>
		</div>
		<hr>
		<div class='centered'>
		<div class="btn-group btn-group-md" role="group">	
			<button id="download" class="gs-btn btn btn-secondary">download</button>	
			</div>
		</div>
		<br>
		<br>			
	</div>
	<div class='col-sm-1 col-lg-3'></div>
	
	</div>
</div>
</body>
</html>
	